<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org" th:insert="~{layout :: layout(contentFragment=~{::content})}">

<section th:fragment="content">
	<!-- 指定されたリストページのヘッダー -->
	<h1 class="heading" th:text="${header}">ヘッダー</h1>
	<!-- スクロール可能なアイテムコンテナ -->
	<div class="list-scroll">
		<th:block th:each="item : ${items}">
			<a th:href="@{/item/{itemId}(itemId = ${item.itemId})}">
				<div class="list-item">
					<div class="img-container">
						<!-- imagePaths リストから最初の画像パスを取得する -->
						<img th:src="@{/images/user_imgs/{img}(img=${#strings.arraySplit(item.imagePaths, ',')[0]})}"
							th:alt="${item.name}" />
						<!-- アイテムが売却済みの場合、'SOLD' オーバーレイを表示する -->
						<div th:unless="${item.saleStatus}" class="sold">SOLD</div>
					</div>
					<div class="list-text">
						<h2 th:text="${item.name}">タイトル</h2>
						<p>¥<span th:text="${item.price}">00000</span></p>
						<!-- 指定されたリストページが「販売」の場合、各アイテムを編集するリンクを表示する -->
						<p th:if="${header == '販売'}">
							<a th:href="@{/item/add_item(itemId = ${item.itemId}, type='update')}">
								商品編集
							</a>
						</p>
					</div>
				</div>
			</a>
		</th:block>
	</div>
	<!-- 指定されたリストページが '販売' の場合、新しいアイテムを追加するリンクを表示する -->
	<div th:if="${header == '販売'}" class="new-item">
		<a th:href="@{/item/add_item(itemId=0, type='insert')}">
			<i class="fa-solid fa-circle-plus"></i>
			新しい商品を販売する
		</a>
	</div>
</section>

</html>